# gptdoc

Generate JSDOC comments with the help of OpenAI's models

> Keep a Human in the loop, results might not be accurate

<br/>

## Preview

Functions labeled with `/** @gpt */` get an autogenerated doc comment

<table align="center">
<tr>
<td align="center"> Before </td> <td align="center"> After </td>
</tr>
<tr>
<td>

```ts
/** @gpt */
function Greet(name) {
    console.log(`Hello ${name}`);
}
```

</td>
<td>

```ts
/**
 * @autogenerated
 * @summary Generates a greeting to the passed in name
 * @param {string} name - The name to greet
 */
function Greet(name) {
    console.log(`Hello ${name}`);
}
```

</td>
</tr>
</table>
<br/>

## Install in project

Install `gptdoc` as a dev dependency

```sh
npm i --save-dev gptdoc 
```

Execute 

```sh
node node_modules/gptdoc [args]
```



<br/>

## Config

You can specify a configuration file:

```sh
node node_modules/gptdoc -c .myconfig
```

If none provided, the script will look for `.gptdoc`

Here is a sample configuration file

```json
{
    "DEBUG": false,
    "framework": "JSDOC",
    "language": "TS",
    "tab_size": 4,
    "files": {
        "src": "./src",
        "dest": "./gpt"
    },
    "openai": {
        "temperature": 0.7,
        "top_p": 1,
        "max_tokens": 256,
        "model": "text-davinci-003"
    }
}
```

<table align="center">

<tr>
<th align="center"> Property </th> 
<th align="center"> type </th>
<th align="center"> description </th>
</tr>

<tr><td>DEBUG</td><td>boolean</td><td>Debug mode allows you to read & write files without prompting the OpenAI API. Placeholder doc comments are written instead.</td></tr>
<tr><td>framework</td><td>string</td><td>A value fed to the model to enforce a documentation framework. ex: `JSDOC`, `typedoc`, `yui-doc`</td></tr>
<tr><td>language</td><td>string</td><td>A value fed to the model to enforce a certain language</td></tr>
<tr><td>tab_size</td><td>number</td><td>source code's tab size in spaces</td></tr>
<tr><td>prompt</td><td>string</td><td>Additional prompt instructions sent to OpenAI</td></tr>
<tr><td>minify</td><td>boolean</td><td>whether or not to minify the code sent to OpenAI</td></tr>
<tr><td>

<table align="center">
files
<tr><td>src</td></tr>
<tr><td>dest</td></tr>
<tr><td>recursive</td></tr>
</table>

</td><td>

<table align="center">
<br/>
<tr><td>string</td></tr>
<tr><td>string</td></tr>
<tr><td>boolean</td></tr>
</table>


</td>
<td>

<table align="center">
<br/>
<tr><td>The source directory or file</td></tr>
<tr><td>The destination directory or file</td></tr>
<tr><td>Search files recursively</td></tr>
</table>


</td>
</tr>
<tr><td>
<table align="center">
openai
<tr><td>temperature</td></tr>
<tr><td>top_p</td></tr>
<tr><td>max_tokens</td></tr>
<tr><td>model</td></tr>
</table>

</td><td>
<table align="center">
<br/>
<tr><td>number</td></tr>
<tr><td>number</td></tr>
<tr><td>number</td></tr>
<tr><td>string</td></tr>
</table>

</td><td>


<table align="center">
<br/>
<tr><td>Attention to unexpected vocabulary, ranges from 0 to 2</td></tr>
<tr><td>Common token distribution, ranges from 0 to 1</td></tr>
<tr><td>The maximum number of tokens the model can respond</td></tr>
<tr><td>model name, refer to <a href="https://platform.openai.com/docs/models">OpenAI API Models Documentations</a>. Use <code>text-davinci-003</code> if you don't know which model to use. 
</td></tr>
</table>

</td></tr>
</table>

<br/>

## API Key

Add a `.env` file in your root directory

```env
OPENAI_API_KEY="sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
```

or set the `OPENAI_API_KEY` as a system environement variable.

find your API key [here](https://platform.openai.com/account/api-keys)

<br/><br/>




# Document this project!

Running `docself` in the cloned repo will document source files in `./src/`

```sh
npm run docself
```

Running `test` in the cloned repo will document `./example/example.js`

```sh
npm run test
```

<br/><br/>




---

License MIT